[build]
rustflags = ["-C", "target-cpu=native"]
# Limit parallel compilation jobs to reduce memory usage
# Conservative default for multi-project workloads
jobs = 4

[target.'cfg(all())']
rustflags = ["-C", "target-cpu=native"]

# Reduce codegen units to lower peak memory during linking
[profile.dev]
codegen-units = 4

[profile.test]
codegen-units = 4

[profile.release]
codegen-units = 8

# Public Cargo registry (JFrog Artifactory â€” anonymous read, authenticated write)
[registries.hyperi]
index = "sparse+https://hypersec.jfrog.io/artifactory/api/cargo/hyperi-cargo-public-virtual/index/"
credential-provider = "cargo:token"
